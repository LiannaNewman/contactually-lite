<%= flash[:notice] %>
<div ng-app="app">
  <div ng-controller='contactCtrl'>
    <div class="container">
      <h2 class="page-header">Welcome to Contactually Lite</h2>
      <p>by Lianna Newman</p>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>First Name</th>
              <th>Last Name</th>
              <th>
                <button class="btn btn-secondary" ng-click="sortBy('email_address')">Email Address
                  <span class="sortorder glyphicon glyphicon-sort" ng-show="propertyName === 'email_address'" ng-class="{reverse: reverse}"></span>
                </button>
              </th>
              <th>Phone Number</th>
              <th>Company Name</th>
              <th>Delete Contact?</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="contact in contacts | orderBy:propertyName:reverse">
              <td>{{contact.first_name}}</td>
              <td>{{contact.last_name}}</td>
              <td>{{contact.email_address}}</td>
              <td>{{contact.phone_number}}</td>
              <td>{{contact.company_name}}</td>
              <td> <input type="button" value="Delete" class="btn btn-danger" ng-click="deleteContact(contact)"/> </td>
            </tr>
          </tbody>
        </table>
    </div>
  </div>
</div>

<div class="container">
  <div>
    <h4>Import Additional Contacts</h4>
    <%= form_tag({action: :import}, multipart: true) do %>
      <span class="btn btn-secondary btn-file">
        Choose File
        <%= file_field_tag :file %>
      </span>
      <%= submit_tag "Import Contacts", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>
